<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8' />
    <title>GEOG 186 Final Project | Zack Dinh</title>
    <link rel="stylesheet" href="main_2.css">
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet' />
</head>
<body>
    <p> </p>
    <h1 style="text-align:center;">Modeling traffic-related black carbon emissions at the Port of Oakland</h1>
    <h4 style="text-align:center;">Zack Dinh | Sam Fernandes | Rebecca Sugrue | Dajie Sun</h4>
    <hr width="100%">
    <p>Traffic-related emissions related to diesel activity from maritime vessels and ground vehicles originating from the <a href="https://www.portofoakland.com/"> Port of Oakland</a> is <a href="https://www.arb.ca.gov/ch/communities/ra/westoakland/documents/westoaklandreport.pdf">harmful</a> to the environment and health of neighboring communities. In this project we analyzed activity at the Port from movement data and modeled the black carbon emissions of this activity using vehicle and engine characteristics. We belive this method provides valuable and independent monitoring capability. The first map presents a composite of the the available vehicle activity at the Port for one month (vessels: June 2017, ground vehicles: January 2019). The second map presents the estimated amount of black carbon produced by vessel and vehicle activity for one month.</p>
    <p> </p>
    <img src="https://66.media.tumblr.com/65c218846899b6ec5cd9b9a408198303/tumblr_pquehg5AC01rxl92fo1_1280.png">
    <hr width="100%">
    <p> </p>
    <h2 style="text-align:center;">Vessel and ground vehicle movement activity at the Port of Oakland</h2>
    
    <!--<nav id="menu"></nav>-->
    <div id="map" style="width: 100%; height: 700px"></div>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiemFja2RpbmgiLCJhIjoiY2p0ZGoxMjc2MTd0azQzbW9zNWUzbm1meCJ9.wVLjaWeqoQ235YTL4n_CwQ';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/zackdinh/cjuivuq5h6q151fqimglnrs8l',
            center: [-122.313, 37.809],
            zoom: 13,
        });
        map.addControl(new mapboxgl.NavigationControl());
        map.addControl(new mapboxgl.FullscreenControl());
        map.addControl(new mapboxgl.ScaleControl({
            position: 'bottom-right'
        }));

            map.on('load', function() {
                map.addSource('Desktop-61i1ve', {
                    type: 'vector',
                    url: 'mapbox://zackdinh.52kum2r5'
            });

            map.on('click', 'Vessel Tracks', function(e) {
                new mapboxgl.Popup()
                    .setLngLat(e.lngLat)
                    .setHTML(e.features[0].properties.VesselName)
                    .addTo(map);
            });
                

            // Change the cursor to a pointer when the mouse is over the states layer.
            map.on('mouseenter', 'Vessel Tracks', function() {
                map.getCanvas().style.cursor = 'pointer';
            });

            // Change it back to a pointer when it leaves.
            map.on('mouseleave', 'Vessel Tracks', function() {
                map.getCanvas().style.cursor = '';
            });
                
            map.on('click', 'Ground Vehicle Tracks', function(e) {
            new mapboxgl.Popup()
                    .setLngLat(e.lngLat)
                    .setHTML(e.features[0].properties.PROBE_ID)
                    .addTo(map);
            });
                
            // Change the cursor to a pointer when the mouse is over the states layer.
            map.on('mouseenter', 'Ground Vehicle Tracks', function() {
                map.getCanvas().style.cursor = 'pointer';
            });

            // Change it back to a pointer when it leaves.
            map.on('mouseleave', 'Ground Vehicle Tracks', function() {
                map.getCanvas().style.cursor = '';
            });
        });
    </script>
    <!--<img src="https://www.mercurynews.com/wp-content/uploads/2016/08/20121211_095601_Economy-Trade-Deficit.jpg">-->
    <!--<h5>Container ships berthed at the Port of Oakland.</h5>-->

    <hr width="100%">
    <img src= "https://66.media.tumblr.com/999eca973810d010040a8cf155f1b2f5/tumblr_pqur07EJjg1rxl92fo1_500h.jpg" width="50%" height="50%">
    
    <h2 style="text-align:center;">Vessel Movement Data</h2>
    <h3 style="text-align:center;">80,850 data points, 119 unique vessels</h3>
    <p>Vessel activity was derived from Automatic Identification System (AIS) data. A system used internationally, primarily to prevent vessel collisions. AIS is required for all vessels greater than 300 gross tonnes. Each AIS message contains: MMSI (vessel identifier), BaseDateTime (date and time), LAT (UTM latitude), LON (UTM longitude), along with vessel type, heading, speed and other useful information. We first developed a method to decode raw AIS messages using the Python package libais, and evaluated the decoder using a sample of raw AIS data. We then downloaded a full AIS dataset for June 2017 for UTM Zone 10, a total of 34,187,287 AIS messages.</p> 
    
    <p>From this dataset we extracted AIS messages located within the study area, yielding 559,596 AIS messages. Further subsetting of AIS messages was then performed by selecting only cargo and tanker vessel type classifications. Our final AIS dataset for June 2017 in the study area was 80,850. We identified 119 vessels based on MMSI. Cumulatively, these 119 vessels operated for a total of 3,497.8 hours at the Port. 156.6 hours was classified as maneuvering (4%), and 3,341.2 hours classified as berthed (96%). We obtained additional vessel characteristics for 108 vessels found in the Marine Traffic database, providing us with vessel dimensions, tonnage, cargo capacity, year built, owner, and builder information.</p>

    <!--<img src="https://www.ttnews.com/sites/default/files/port-of-los-angeles-1200.jpg">-->
    <!--<h5>Freight trucking activity at the Port of Oakland.</h5>-->
    <hr width="100%">
    
    <img src= "https://66.media.tumblr.com/2ea71269bae0202f8b2af5ebfa8252b9/tumblr_pquqzdtBwK1rxl92fo1_500h.jpg" width="50%" height="50%">
    <h2 style="text-align:center;">Ground Vehicle Movement Data</h2>
    <h3 style="text-align:center;">487,410 data points, 6,336 unique vehicles</h3>
    <p>Ground vehicle probe data was provided by Dr. Jane McFarlane for the month of January 2019 (January 1-30). From the original data set of x points we extracted x points within the Port of Oakland study area.</p>
    <hr width="100%">
    <img src= "https://66.media.tumblr.com/c848e5eba0ea23486bddb7fb5051918a/tumblr_pqurnliJIU1rxl92fo1_500h.jpg" width="50%" height="50%">
    <h2 style="text-align:center;">Black Carbon Emissions Modeling</h2>
    <h3 style="text-align:center;">Estimated 2,266 grams of black carbon generated per week day</h3>
    
    <img src="https://66.media.tumblr.com/6279b5e8e2f55539072d3832a06253bb/tumblr_pqv5pjPSIA1rxl92fo1_1280.jpg">
        <p>From movement data we modeled the amount of black carbon emited from each vesse and vehicle during their operation at the port. From movement data, a vehicle's position, speed, and operating time is factored in to the emssions model. For vessels, MMSI contained in the AIS data allowed us to obtain vessel specific information </p>
    <hr width="100%">
    <h2 style="text-align:center;">Estimation of black carbon emissions at the Port of Oakland</h2>

    <div id="map2" style="width: 100%; height: 700px"></div>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiemFja2RpbmgiLCJhIjoiY2p0ZGoxMjc2MTd0azQzbW9zNWUzbm1meCJ9.wVLjaWeqoQ235YTL4n_CwQ';
        var map2 = new mapboxgl.Map({
            container: 'map2',
            style: 'mapbox://styles/zackdinh/cjv661vcn0rj71fqx5kqm7fq1',
            center: [-122.313, 37.809],
            zoom: 13,
        });   
        map2.addControl(new mapboxgl.NavigationControl());
        map2.addControl(new mapboxgl.FullscreenControl());
        map2.addControl(new mapboxgl.ScaleControl({position: 'bottom-right'}));
        
        map2.on('click', 'bc', function(e) {
                new mapboxgl.Popup()
                    .setLngLat(e.lngLat)
                    .setHTML(e.features[0].properties.weekday_l)
                    .addTo(map2);
            });
            // Change the cursor to a pointer when the mouse is over the states layer.
            map2.on('mouseenter', 'bc', function() {
                map2.getCanvas().style.cursor = 'pointer';
            });

            // Change it back to a pointer when it leaves.
            map2.on('mouseleave', 'bc', function() {
                map2.getCanvas().style.cursor = '';
            });
        

    </script>  
    <img src="https://66.media.tumblr.com/9e5c6e9359f4660367bb9a4ce20b525d/tumblr_pr3qr8KHP71rxl92fo1_1280.png">
    
    <hr width="100%">
    <h2 style="text-align:center;">Data Sources</h2>


    <p>Vessel movement data: <a href="https://marinecadastre.gov/ais/"> MarineCadastre.gov</a></p>
    <p>Ground vehicle movement data: Courtesy of Dr. Jane McFarlane, College of Civil & Environmental Engineering</p>
    
    <p>Vessel emissions estimation methodology: <a href="https://www.theicct.org/publications/GHG-emissions-global-shipping-2013-2015">Greenhouse gas emissions from global shipping, 2013â€“2015, ICCT</a></p>
    <p><a href="https://github.com/zdinh/zdinh.github.io">White paper</a></p>
    <p><a href="https://github.com/zdinh/zdinh.github.io">Github repository</a></p>
    
    <hr width="100%">
    <p style="text-align:center;">Spring 2019 | GEOG 186 Web Cartogrpahy | CE 263 N Scalable Spatial Analytics | University of California, Berkeley</p>

</body>

</html>
